<!DOCTYPE html>
{% load staticfiles %}
<html lang="en" dir="ltr">
  <head>
    <script type="text/javascript" src="{% static '/channels/js/websocketbridge.js' %}">

    </script>
    <meta charset="utf-8">
    <title>notifier</title>
  </head>
  <body>
  <h1>notifirtd</h1>
  <script type = "text/javascript">

    // <script>
    // var ws = new WebSocket('/ws/'),

    var socket = new WebSocket('ws://' + window.location.host );

  socket.onopen = function open() {
    console.log('WebSockets connection created.');
  };

  if (socket.readyState == WebSocket.OPEN) {
    socket.onopen();
  }
</script>


  </script>
  </body>
</html>

<!-- {% load staticfiles %}
<html>
  <head>
    <title>Notifier</title>
    <script src="{% static '/channels/js/websocketbridge.js' %}" type="text/javascript"></script>
  </head>
  <body>
    <h1>Notifier</h1>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      const webSocketBridge = new channels.WebSocketBridge();
      webSocketBridge.connect('/ws/');
      webSocketBridge.listen(function(action, stream) {
        console.log("RESPONSE:", action, stream);
      })
      document.ws = webSocketBridge; /* for debugging */
    })
    </script>
  </body>
</html> -->
